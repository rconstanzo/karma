<?xml version='1.0' encoding='utf-8' standalone='yes'?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<!-- DO NOT EDIT THIS FILE ... YOU WILL LOSE YOUR WORK ... THIS IS NOT STRICTLY TRUE FOR KARMA -->

<c74object name='karma~' category='karma'>      <!-- do we need "category" here ?? -->
	<digest>Varispeed Audio Looper</digest>
	<description>A dynamically lengthened varispeed record/playback looper with complex functionality.</description>
  <discussion>
    <h4><openfilelink filename="karma_overview.maxpat">Open the Overview Patch</openfilelink></h4>
            <p> The <o>karma~</o> object is a dynamically lengthed varispeed sample-recording and playback object with complex functionality, which references the audio information stored in a <o>buffer~</o> object having the same name.
            </p>
  </discussion>

	<!--METADATA-->
	<metadatalist>
		<metadata name='author'>Rodrigo Constanzo, raja, and Pete</metadata>
		<metadata name='tag'>Live Sampling</metadata>
		<metadata name='tag'>Looping</metadata>
	</metadatalist>

	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="INLET_TYPE">
			<digest>
				Audio Inlet(s)
			</digest>
			<description>
			</description>
		</inlet>
	</inletlist>

	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="OUTLET_TYPE">
			<digest>
				Audio Outlet(s)
			</digest>
			<description>
			</description>
		</outlet>
	</outletlist>

	<!--ARGUMENTS-->
	<objarglist>
		<objarg name="buffername" optional="0" type="symbol">
			<digest>
				Name of <o>buffer~</o> to be associated with the <o>karma~</o> instance
			</digest>
			<description>
				<o>karma~</o> will not operate without an associated <o>buffer~</o> <br />
                        The associated <o>buffer~</o> determines memory and length (if associating a buffer~ of <b>0 ms</b> in size <o>karma~</o> will do nothing) <br />
                        The associated <o>buffer~</o> can be changed on the fly (see the <m>set</m> message) but one must be present on instantiation <br />
			</description>
		</objarg>
		<objarg name="channels" optional="1" type="int">
			<digest>
				Set the number of output channels
			</digest>
			<description>
				Set the number of output channels to use with the <o>karma~</o> instance. Channel counts can be 1, 2 or 4. The number of audio outlets will change depending on this argument. The default is 1.
			</description>
		</objarg>
	</objarglist>

	<!--MESSAGES-->
  <methodlist><method name="append">
      <arglist />
      <digest>
        <p>(get ready for) append recording</p>
      </digest>
      <description>
        <p>(get ready for) append recording to end of currently used segment (as long as buffer space available)</p>
      </description>
    </method></methodlist>

	<!--ATTRIBUTES-->
	<attributelist>
      <attribute name='interp' get='1' set='1' type='int' size='1'>
        <digest>
              Playback Interpolation Type
        </digest>
        <description>
              <p>Sets the <b>interpolation</b> mode during playback. A setting of 'interp 0' will only allow linear-interp to happen at all times. The default setting of 'interp 1' will use linear interpolation for playback while recording and cubic interpolation during regular playback. This is most noticable when switching between overdub and playback and slower playback speeds as you can hear the aliasing more with playback that uses linear interpolation. 'interp 2' is the same as '1' but for spline interpolation.<br/><br/>
              Available options: <br/>
			  0 = <b>linear</b><br/>
			  1 = <b>cubic</b><br/>
			  2 = <b>spline</b><br/>
              Default <b>cubic</b></p>
        </description>
      </attribute>

      <attribute name='ramp' get='1' set='1' type='int' size='1'>
        <digest>
              Ramp Fade Time
        </digest>
        <description>
              <p>Sets the 'offline' ramp fade time. These are the cosine-based ramps which happen outside the direction of travel of the playhead to declick the recording, as well as a real-time fade at the record-input to declick the recording outside realtime awareness. Since the record-head trails the play-head by 1 sample, the cosine-fades are never heard during their creation, only after the playhead loops around or changes direction to go over them.</p>
        </description>
      </attribute>

	    <attribute name='report' get='1' set='1' type='int' size='1'>
        <digest>
              List Outlet Report Time
        </digest>
        <description>
              <p>Sets the report time in milliseconds for the list output.</p>
        </description>
      </attribute>

	  	<attribute name='snramp' get='1' set='1' type='int' size='1'>
        <digest>
              Switch and Ramp Fade Time
        </digest>
        <description>
              <p>Sets the fade time for 'switch and ramp' independently of the off-line ramp time set via ramp. Switch and ramp declicks instantaneous changes at the playback, primarily when jumping around the buffer arbitrarily.</p>
        </description>
      </attribute>

	  	<attribute name='sncurve' get='1' set='1' type='int' size='1'>
        <digest>
              Curve for Switch and Ramp Function
        </digest>
        <description>
              <p>Applies easing functions to the switch and ramp algorithm to allow for different in and out curves.<br/>
<br/>
The different possibilities for 'snrcurv' are:<br/>
0 = <b>linear ramp</b><br/>
1 = <b>sine-based ramp</b><br/>
2 = <b>cubic ease in ramp</b><br/>
3 = <b>cubic ease out ramp</b><br/>
4 = <b>exponential ease in ramp</b><br/>
5 = <b>exponential ease out ramp</b><br/>
6 = <b>exponential ease in and out</b></p>
        </description>
      </attribute>

      </attributelist>

	<!--RELATED-->
	<seealsolist>
            <seealso name='mc.karma~' />
            <seealso name='buffer~' />
            <seealso name='groove~' />
            <seealso name='phasegroove~' />
            <seealso name='play~' />
            <seealso name='poke~' />
            <seealso name='record~' />
            <seealso name='wave~' />
            <seealso name='waveform~' />
      </seealsolist>
</c74object>